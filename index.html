<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daily Poem</title>

<style>
  :root {
    --bg: #2b2b2b;
    --text: #ffffff;
    --button: #444;
  }

  body.light {
    --bg: #f4f4f4;
    --text: #111;
    --button: #ddd;
  }

  body {
    background-color: var(--bg);
    color: var(--text);
    font-family: Georgia, serif;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
  }

  .container {
    max-width: 800px;
    padding: 40px;
    text-align: center;
  }

  .poem {
    white-space: pre-wrap;
    font-size: 18px;
    line-height: 1.6;
    margin-bottom: 30px;
    min-height: 200px;
  }

  .meta {
    font-weight: bold;
    margin-bottom: 30px;
  }

  .date {
    color: #888;
    font-size: 14px;
    margin-bottom: 20px;
  }

  .controls {
    margin-bottom: 20px;
  }

  button {
    background: var(--button);
    color: var(--text);
    border: none;
    padding: 10px 18px;
    font-size: 15px;
    cursor: pointer;
    margin: 5px;
    border-radius: 4px;
  }

  button:hover {
    opacity: 0.85;
  }

  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .nav-buttons {
    margin-bottom: 15px;
  }
</style>
</head>

<body>
<div class="container">
  <div class="date" id="dateDisplay"></div>
  <div class="poem" id="poemText"></div>
  <div class="meta" id="poemMeta"></div>

  <div class="nav-buttons">
    <button onclick="previousDay()">‚Üê Previous Day</button>
    <button onclick="today()">Today</button>
    <button onclick="nextDay()" id="nextBtn">Next Day ‚Üí</button>
  </div>
  
  <div class="controls">
    <button onclick="toggleMode()">üåó Dark / Light</button>
  </div>
</div>

<script>
const poems = [{"text":"===\nI met a traveller from an antique land\nWho said: Two vast and trunkless legs of stone\nStand in the desert . . . Near them, on the sand,\nHalf sunk, a shattered visage lies, whose frown,\nAnd wrinkled lip, and sneer of cold command,\nTell that its sculptor well those passions read\nWhich yet survive, stamped on these lifeless things,\nThe hand that mocked them, and the heart that fed:\nAnd on the pedestal these words appear:\nMy name is Ozymandias, king of kings:\nLook on my works, ye Mighty, and despair!\nNothing beside remains. Round the decay\nOf that colossal wreck, boundless and bare\nThe lone and level sands stretch far away.","title":"Ozymandias","author":"Percy Bysshe Shelley"},{"text":"so much depends\nupon\n\na red wheel\nbarrow\n\nglazed with rain\nwater\n\nbeside the white\nchickens","title":"The Red Wheelbarrow","author":"William Carlos Williams"},{"text":"I have eaten\nthe plums\nthat were in\nthe icebox\n\nand which\nyou were probably\nsaving\nfor breakfast\n\nForgive me\nthey were delicious\nso sweet\nand so cold","title":"This Is Just To Say","author":"William Carlos Williams"},{"text":"The apparition of these faces in the crowd:\nPetals on a wet, black bough.","title":"In a Station of the Metro","author":"Ezra Pound"},{"text":"Because I could not stop for Death‚Äî\nHe kindly stopped for me‚Äî\nThe Carriage held but just Ourselves‚Äî\nAnd Immortality.\n\nWe slowly drove‚ÄîHe knew no haste\nAnd I had put away\nMy labor and my leisure too,\nFor His Civility‚Äî\n\nWe passed the School, where Children strove\nAt Recess‚Äîin the Ring‚Äî\nWe passed the Fields of Gazing Grain‚Äî\nWe passed the Setting Sun‚Äî\n\nOr rather‚ÄîHe passed us‚Äî\nThe Dews drew quivering and chill‚Äî\nFor only Gossamer, my Gown‚Äî\nMy Tippet‚Äîonly Tulle‚Äî\n\nWe paused before a House that seemed\nA Swelling of the Ground‚Äî\nThe Roof was scarcely visible‚Äî\nThe Cornice‚Äîin the Ground‚Äî\n\nSince then‚Äî'tis Centuries‚Äîand yet\nFeels shorter than the Day\nI first surmised the Horses' Heads\nWere toward Eternity‚Äî","title":"Because I could not stop for Death","author":"Emily Dickinson"},{"text":"Hope is the thing with feathers\nThat perches in the soul,\nAnd sings the tune without the words,\nAnd never stops at all,\n\nAnd sweetest in the gale is heard;\nAnd sore must be the storm\nThat could abash the little bird\nThat kept so many warm.\n\nI've heard it in the chillest land,\nAnd on the strangest sea;\nYet, never, in extremity,\nIt asked a crumb of me.","title":"Hope is the thing with feathers","author":"Emily Dickinson"},{"text":"I'm Nobody! Who are you?\nAre you ‚Äì Nobody ‚Äì too?\nThen there's a pair of us!\nDon't tell! they'd advertise ‚Äì you know!\n\nHow dreary ‚Äì to be ‚Äì Somebody!\nHow public ‚Äì like a Frog ‚Äì\nTo tell one's name ‚Äì the livelong June ‚Äì\nTo an admiring Bog!","title":"I'm Nobody! Who are you?","author":"Emily Dickinson"},{"text":"There is no Frigate like a Book\nTo take us Lands away\nNor any Coursers like a Page\nOf prancing Poetry‚Äî\nThis Traverse may the poorest take\nWithout oppress of Toll‚Äî\nHow frugal is the Chariot\nThat bears the Human Soul‚Äî","title":"There is no Frigate like a Book","author":"Emily Dickinson"},{"text":"Wild nights - Wild nights!\nWere I with thee\nWild nights should be\nOur luxury!\n\nFutile - the winds -\nTo a Heart in port -\nDone with the Compass -\nDone with the Chart!\n\nRowing in Eden -\nAh - the Sea!\nMight I but moor - tonight -\nIn thee!","title":"Wild Nights - Wild Nights!","author":"Emily Dickinson"},{"text":"Tyger Tyger, burning bright,\nIn the forests of the night;\nWhat immortal hand or eye,\nCould frame thy fearful symmetry?","title":"The Tyger","author":"William Blake"},{"text":"She walks in beauty, like the night\nOf cloudless climes and starry skies;\nAnd all that's best of dark and bright\nMeet in her aspect and her eyes.","title":"She Walks in Beauty","author":"Lord Byron"},{"text":"Shall I compare thee to a summer's day?\nThou art more lovely and more temperate:\nRough winds do shake the darling buds of May,\nAnd summer's lease hath all too short a date;\nSometime too hot the eye of heaven shines,\nAnd often is his gold complexion dimm'd;\nAnd every fair from fair sometime declines,\nBy chance or nature's changing course untrimm'd;\nBut thy eternal summer shall not fade,\nNor lose possession of that fair thou ow'st;\nNor shall Death brag thou wander'st in his shade,\nWhen in eternal lines to time thou grow'st:\nSo long as men can breathe or eyes can see,\nSo long lives this, and this gives life to thee.","title":"Sonnet 18","author":"William Shakespeare"},{"text":"Tell me not, in mournful numbers,\nLife is but an empty dream!\nFor the soul is dead that slumbers,\nAnd things are not what they seem.","title":"A Psalm of Life","author":"Henry Wadsworth Longfellow"},{"text":"When I consider how my light is spent,\nEre half my days, in this dark world and wide,\nAnd that one Talent which is death to hide,\nLodg'd with me useless...","title":"On His Blindness","author":"John Milton"},{"text":"Thou still unravish'd bride of quietness,\nThou foster-child of silence and slow time,\nSylvan historian, who canst thus express\nA flowery tale more sweetly than our rhyme:","title":"Ode on a Grecian Urn","author":"John Keats"}];
const todayDayOfYear = 21;
let currentOffset = 0;

function getDayOfYear(date) {
  const start = new Date(date.getFullYear(), 0, 0);
  const diff = date - start;
  const oneDay = 1000 * 60 * 60 * 24;
  return Math.floor(diff / oneDay);
}

function getDateFromOffset(offset) {
  const now = new Date();
  const estOffset = -5 * 60;
  const estTime = new Date(now.getTime() + (estOffset + now.getTimezoneOffset()) * 60000);
  estTime.setDate(estTime.getDate() + offset);
  return estTime;
}

function renderPoem() {
  const viewingDate = getDateFromOffset(currentOffset);
  const viewingDayOfYear = getDayOfYear(viewingDate);
  const poemIndex = viewingDayOfYear % poems.length;
  const poem = poems[poemIndex];
  
  document.getElementById('poemText').textContent = poem.text;
  document.getElementById('poemMeta').textContent = poem.title + ' - ' + poem.author;
  
  const dateStr = viewingDate.toLocaleDateString('en-US', { 
    weekday: 'long', 
    year: 'numeric', 
    month: 'long', 
    day: 'numeric' 
  });
  
  if (currentOffset === 0) {
    document.getElementById('dateDisplay').textContent = 'Todays Poem - ' + dateStr;
  } else {
    document.getElementById('dateDisplay').textContent = 'Poem for ' + dateStr;
  }
  
  document.getElementById('nextBtn').disabled = (currentOffset >= 0);
}

function previousDay() {
  currentOffset--;
  renderPoem();
}

function nextDay() {
  if (currentOffset < 0) {
    currentOffset++;
    renderPoem();
  }
}

function today() {
  currentOffset = 0;
  renderPoem();
}

function toggleMode() {
  document.body.classList.toggle('light');
  localStorage.setItem('theme', document.body.classList.contains('light') ? 'light' : 'dark');
}

if (localStorage.getItem('theme') === 'light') {
  document.body.classList.add('light');
}

renderPoem();
</script>
</body>
</html>